
plugins {
    id 'org.jetbrains.intellij' version '1.14.1'
    id "org.jetbrains.kotlin.jvm" version "1.8.10"
    id 'maven-publish'
}
group 'com.finanteq.plugins.idea'
version '223.8836.3'

sourceCompatibility = 17

repositories {
    mavenCentral()
}

dependencies {
    testImplementation group: 'junit', name: 'junit', version: '4.13.2'
}

compileKotlin {
    kotlinOptions.jvmTarget = sourceCompatibility
}
compileTestKotlin {
    kotlinOptions.jvmTarget = sourceCompatibility
}
def studioVersion = "223.8836.35.2231.9923731"
intellij {
    version.set(studioVersion)
    type.set("AI")
    plugins.set(['cucumber-java:223.7571.123', 'gherkin:223.8617.8', 'Kotlin', 'java', "org.jetbrains.android"])
    updateSinceUntilBuild.set(false)
    sameSinceUntilBuild.set(false)
}

signPlugin {
    certificateChainFile.set(file(findProperty("finanteqOpenSourceCertFile")))
    privateKeyFile.set(file(findProperty("finanteqOpenSourceKeyFile")))
    password.set(findProperty("finanteqOpenSourceKeyPassword"))
}

publishPlugin {
    token.set(findProperty("finanteqOpenSourceJetbrainsPublishToken"))
}

tasks {
    buildSearchableOptions {
        enabled = false
    }
}